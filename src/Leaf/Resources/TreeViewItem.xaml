<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:symbol="clr-namespace:System.Windows.Controls;assembly=PresentationFramework"
                    xmlns:system="clr-namespace:System;assembly=System.Runtime">
  <system1:Double x:Key="TreeViewItemChevronSize" xmlns:system1="clr-namespace:System;assembly=System.Private.CoreLib">10</system1:Double>
  <Double x:Key="TreeViewItemFontSize" xmlns="clr-namespace:System;assembly=System.Private.CoreLib">14</Double>
  <system1:String x:Key="TreeViewChevronRightGlyph" xmlns:system1="clr-namespace:System;assembly=System.Private.CoreLib">&#xE76C;</system1:String>
  <String x:Key="TreeViewChevronLeftGlyph" xmlns="clr-namespace:System;assembly=System.Private.CoreLib">&#xE76B;</String>
  <Style x:Key="ExpandCollapseToggleButtonStyle" TargetType="{x:Type ToggleButton}">
    <Setter Property="FrameworkElement.FocusVisualStyle" Value="{DynamicResource DefaultCollectionFocusVisualStyle}" />
    <Setter Property="Focusable" Value="False" />
    <Setter Property="FrameworkElement.OverridesDefaultStyle" Value="True" />
    <Setter Property="UIElement.SnapsToDevicePixels" Value="True" />
    <Setter Property="Template">
      <Setter.Value>
        <symbol:ControlTemplate TargetType="{x:Type ToggleButton}">
          <symbol:Grid Name="ChevronContainer" Width="15" Height="15" Background="#00FFFFFF" RenderTransformOrigin="0.5, 0.5">
            <UIElement.RenderTransform>
              <RotateTransform Angle="0" />
            </UIElement.RenderTransform>
            <symbol:TextBlock Name="ChevronIcon" VerticalAlignment="Center" FontFamily="{DynamicResource SymbolThemeFontFamily}" HorizontalAlignment="Center" FontSize="{StaticResource TreeViewItemChevronSize}" Text="{StaticResource TreeViewChevronRightGlyph}" />
          </symbol:Grid>
          <symbol:ControlTemplate.Triggers>
            <Trigger Property="FlowDirection" Value="RightToLeft">
              <Setter TargetName="ChevronIcon" Property="symbol:TextBlock.Text" Value="{StaticResource TreeViewChevronLeftGlyph}" />
            </Trigger>
            <Trigger Property="ToggleButton.IsChecked" Value="True">
              <TriggerBase.EnterActions>
                <BeginStoryboard>
                  <Storyboard>
                    <DoubleAnimation Storyboard.TargetName="ChevronContainer" Storyboard.TargetProperty="(Grid.RenderTransform).(RotateTransform.Angle)" To="90" Duration="0:0:0.16" />
                  </Storyboard>
                </BeginStoryboard>
              </TriggerBase.EnterActions>
              <TriggerBase.ExitActions>
                <BeginStoryboard>
                  <Storyboard>
                    <DoubleAnimation Storyboard.TargetName="ChevronContainer" Storyboard.TargetProperty="(Grid.RenderTransform).(RotateTransform.Angle)" To="0" Duration="0:0:0.16" />
                  </Storyboard>
                </BeginStoryboard>
              </TriggerBase.ExitActions>
            </Trigger>
          </symbol:ControlTemplate.Triggers>
        </symbol:ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>
  <Style x:Key="DefaultTreeViewItemStyle" TargetType="{x:Type symbol:TreeViewItem}">
    <Setter Property="FrameworkElement.FocusVisualStyle" Value="{DynamicResource DefaultCollectionFocusVisualStyle}" />
    <Setter Property="Foreground" Value="{DynamicResource TreeViewItemForeground}" />
    <Setter Property="Background" Value="{DynamicResource TreeViewItemBackground}" />
    <Setter Property="Margin" Value="0,0,0,2" />
    <Setter Property="Padding" Value="4" />
    <Setter Property="symbol:Border.CornerRadius" Value="{DynamicResource ControlCornerRadius}" />
    <Setter Property="IsTabStop" Value="True" />
    <Setter Property="FrameworkElement.OverridesDefaultStyle" Value="True" />
    <Setter Property="UIElement.SnapsToDevicePixels" Value="True" />
    <Setter Property="Template">
      <Setter.Value>
        <symbol:ControlTemplate TargetType="{x:Type symbol:TreeViewItem}">
          <symbol:Grid Background="{TemplateBinding symbol:Control.Background}">
            <symbol:Grid.RowDefinitions>
              <symbol:RowDefinition Height="Auto" />
              <symbol:RowDefinition Height="Auto" />
            </symbol:Grid.RowDefinitions>
            <symbol:Border Name="Border" symbol:Grid.Row="0" CornerRadius="{TemplateBinding symbol:Border.CornerRadius}" Margin="{TemplateBinding FrameworkElement.Margin}">
              <symbol:Grid>
                <symbol:Grid.ColumnDefinitions>
                  <symbol:ColumnDefinition Width="Auto" MinWidth="19" />
                  <symbol:ColumnDefinition Width="Auto" />
                  <symbol:ColumnDefinition Width="*" />
                </symbol:Grid.ColumnDefinitions>
                <Rectangle Name="ActiveRectangle" symbol:Grid.Column="0" Width="3" Height="16" Margin="0,0,0,0" HorizontalAlignment="Left" VerticalAlignment="Center" Fill="{DynamicResource TreeViewItemSelectionIndicatorForeground}" RadiusX="2" RadiusY="2" Visibility="Collapsed" />
                <ToggleButton Name="Expander" symbol:Grid.Column="0" Margin="8,0" ClickMode="Press" Style="{StaticResource ExpandCollapseToggleButtonStyle}" IsChecked="{Binding IsExpanded, RelativeSource={RelativeSource TemplatedParent}}" />
                <symbol:ContentPresenter Name="PART_Header" symbol:Grid.Column="1" Margin="{TemplateBinding symbol:Control.Padding}" HorizontalAlignment="{TemplateBinding symbol:Control.HorizontalContentAlignment}" ContentSource="Header" TextElement.FontSize="{TemplateBinding symbol:Control.FontSize}" />
              </symbol:Grid>
            </symbol:Border>
            <symbol:Grid Row="1">
              <symbol:Grid.ColumnDefinitions>
                <symbol:ColumnDefinition Width="Auto" MinWidth="19" />
                <symbol:ColumnDefinition Width="Auto" />
                <symbol:ColumnDefinition Width="*" />
              </symbol:Grid.ColumnDefinitions>
              <symbol:ItemsPresenter Name="ItemsHost" symbol:Grid.Column="1" symbol:Grid.ColumnSpan="2" Visibility="Collapsed" />
            </symbol:Grid>
          </symbol:Grid>
          <symbol:ControlTemplate.Triggers>
            <Trigger Property="symbol:ItemsControl.HasItems" Value="False">
              <Setter TargetName="Expander" Property="Visibility" Value="Hidden" />
            </Trigger>
            <Trigger Property="symbol:TreeViewItem.IsExpanded" Value="True">
              <Setter TargetName="ItemsHost" Property="Visibility" Value="Visible" />
            </Trigger>
            <Trigger Property="UIElement.IsMouseOver" Value="True">
              <Setter TargetName="Border" Value="{DynamicResource TreeViewItemBackgroundPointerOver}" Property="symbol:Border.Background" />
            </Trigger>
            <Trigger Property="symbol:TreeViewItem.IsSelected" Value="True">
              <Setter TargetName="Border" Value="{DynamicResource TreeViewItemBackgroundSelected}" Property="symbol:Border.Background" />
              <Setter TargetName="ActiveRectangle" Property="Visibility" Value="Visible" />
            </Trigger>
            <MultiTrigger>
              <MultiTrigger.Conditions>
                <Condition Property="HasHeader" Value="False" />
                <Condition Property="Width" Value="Auto" />
              </MultiTrigger.Conditions>
              <Setter TargetName="PART_Header" Property="MinWidth" Value="75" />
            </MultiTrigger>
            <MultiTrigger>
              <MultiTrigger.Conditions>
                <Condition Property="HasHeader" Value="False" />
                <Condition Property="Height" Value="Auto" />
              </MultiTrigger.Conditions>
              <Setter TargetName="PART_Header" Property="MinHeight" Value="19" />
            </MultiTrigger>
          </symbol:ControlTemplate.Triggers>
        </symbol:ControlTemplate>
      </Setter.Value>
    </Setter>
    <Style.Triggers>
      <Trigger Property="symbol:VirtualizingPanel.IsVirtualizing" Value="True">
        <Setter Property="ItemsPanel">
          <Setter.Value>
            <symbol:ItemsPanelTemplate>
              <symbol:VirtualizingStackPanel />
            </symbol:ItemsPanelTemplate>
          </Setter.Value>
        </Setter>
      </Trigger>
    </Style.Triggers>
  </Style>
  <Style x:Key="{x:Type symbol:TreeViewItem}" BasedOn="{StaticResource DefaultTreeViewItemStyle}" TargetType="{x:Type symbol:TreeViewItem}" />
</ResourceDictionary>
