---
title: Full Markdown Renderer
status: planned
owner: TBD
start_date: asap
duration: 0.75d
story_points: 4
depends_on: []
follows: []
---

# F1.1.7.4: Full Markdown Renderer

**Description:**
Integrate MdXaml or Markdig.Wpf library for rich markdown rendering of PR body and comments, replacing the plain-text converter.

**Technical Approach:**

1. **NuGet Package:** MdXaml or Markdig.Wpf

2. **Usage:**
   ```xml
   <mdxaml:MarkdownScrollViewer
       Markdown="{Binding Body}"
       MarkdownStyle="{StaticResource DarkThemeMarkdownStyle}" />
   ```

3. **Features:**
   - Headers with appropriate sizes
   - Code blocks with syntax highlighting
   - Clickable links (open in browser)
   - Lists with bullets/numbers
   - Bold/italic formatting
   - Dark theme matching Leaf colors

4. **Keep MarkdownToPlainTextConverter** as fallback for non-markdown contexts
## Business Value

- **User Impact:** Rich markdown rendering with syntax highlighting, clickable links, and proper formatting - PR descriptions look professional
- **Technical Value:** MdXaml or Markdig.Wpf integration; dark theme styling matches Leaf; fallback to plain text converter

## Inputs & Outputs

| Name | Type | Nullable | Description |
|:-----|:-----|:---------|:------------|
|  |  |  |  |

**Returns:** void - No return value

## Edge Cases & Boundary Conditions

| ID | Condition | Expected Behavior |
|:---|:----------|:------------------|
| EC-1 | Malformed markdown | Render as best-effort, don't crash |
| EC-2 | Very long code block | Render with scrolling, don't truncate |
| EC-3 | External link clicked | Open in default browser |
| EC-4 | Image reference in markdown | Attempt to load, show placeholder on failure |

## Acceptance Criteria

### Functional
- [ ] MdXaml or Markdig.Wpf NuGet package integrated
- [ ] MarkdownScrollViewer used for PR body and comments
- [ ] Headers render with appropriate sizes
- [ ] Code blocks render with syntax highlighting
- [ ] Links are clickable and open in browser
- [ ] Lists render with bullets/numbers
- [ ] Bold/italic formatting works
- [ ] Dark theme style matches Leaf colors

### Quality
- [ ] MarkdownToPlainTextConverter kept as fallback
- [ ] No compiler warnings

## Dependencies

| Type | ID/Name | Notes |
|:-----|:--------|:------|
| Depends On | None | |
| Blocks | None | |

## User Stories

### US-1: Rich Markdown Display

**User Story:**
> As a developer, I want PR descriptions to render with full markdown formatting so that documentation looks professional.

**Acceptance Criteria:**
1. Given a PR body with headers and code blocks, when displayed, then headers show with sizes and code has highlighting
2. Given a PR body with links, when I click a link, then it opens in my default browser
3. Given dark theme is active, when markdown renders, then colors match Leaf dark theme

## Amendments

| Date | Category | Description | Rationale |
|:-----|:---------|:------------|:----------|

## Proposed Improvements

<!-- Document opportunities for refactoring, scope adjustments, or better engineering practices here. Do not implement yet; just log them. When a proposed improvement affects work above this item's level, document it in the appropriate ancestor. -->

| ID | Description | Resolution |
|:---|:------------|:-----------|
