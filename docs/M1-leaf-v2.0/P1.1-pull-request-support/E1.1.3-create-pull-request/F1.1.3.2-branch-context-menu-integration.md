---
title: Branch Context Menu Integration
status: planned
owner: TBD
start_date: asap
duration: 0.5d
story_points: 3
depends_on: []
follows: []
---

# F1.1.3.2: Branch Context Menu Integration

**Description:**
Add "Create Pull Request..." menu item to branch context menu in BranchListView, enabling PR creation directly from a branch.

**Technical Approach:**

1. Add to BranchListView.xaml branch context menu (after "Rename Branch"):
   ```xml
   <Separator />
   <MenuItem Header="Create Pull Request..."
             Command="{Binding PlacementTarget.Tag.CreatePullRequestFromBranchCommand, ...}"
             CommandParameter="{Binding}"
             IsEnabled="{Binding PlacementTarget.Tag.IsPullRequestSupported, ...}" />
   ```

2. MainViewModel.CreatePullRequestFromBranchCommand:
   - Opens CreatePullRequestDialog with source branch pre-selected
## Business Value

- **User Impact:** Right-click any branch to create PR; natural integration with existing branch workflow
- **Technical Value:** Simple menu item addition; leverages existing context menu infrastructure

## Inputs & Outputs

| Name | Type | Nullable | Description |
|:-----|:-----|:---------|:------------|
|  |  |  |  |

**Returns:** void - No return value

## Edge Cases & Boundary Conditions

| ID | Condition | Expected Behavior |
|:---|:----------|:------------------|
| EC-1 | Local-only branch (no remote) | Show menu item but warn about push needed |
| EC-2 | PR already exists for branch | Show menu item anyway (user might want another PR) |
| EC-3 | No provider detected | Menu item disabled, tooltip explains why |

## Acceptance Criteria

### Functional
- [ ] "Create Pull Request..." appears in branch context menu
- [ ] Menu item opens CreatePullRequestDialog with branch pre-selected
- [ ] Menu item disabled when no provider is detected
- [ ] Menu position is after "Rename Branch" with separator

### Quality
- [ ] Follows existing context menu patterns
- [ ] No compiler warnings

## Dependencies

| Type | ID/Name | Notes |
|:-----|:--------|:------|
| Depends On | None | |
| Blocks | None | |

## User Stories

### US-1: Create PR from Branch

**User Story:**
> As a developer, I want to right-click a branch and create a PR so that I can quickly start the review process.

**Acceptance Criteria:**
1. Given I right-click a branch in the branch list, then I see "Create Pull Request..." menu item
2. Given I click the menu item, when dialog opens, then the branch is pre-selected as source
3. Given no GitHub/Azure DevOps remote, when I view context menu, then PR option is disabled

## Amendments

| Date | Category | Description | Rationale |
|:-----|:---------|:------------|:----------|

## Proposed Improvements

<!-- Document opportunities for refactoring, scope adjustments, or better engineering practices here. Do not implement yet; just log them. When a proposed improvement affects work above this item's level, document it in the appropriate ancestor. -->

| ID | Description | Resolution |
|:---|:------------|:-----------|
