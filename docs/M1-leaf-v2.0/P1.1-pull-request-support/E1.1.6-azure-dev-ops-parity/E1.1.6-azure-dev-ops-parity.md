---
title: Azure DevOps Parity
status: planned
owner: TBD
start_date: asap
duration: 2.5d
story_points: 13
depends_on: []
follows: []
---

# E1.1.6: Azure DevOps Parity

**Current State:** PR features only work with GitHub repositories.

**Target State:** Full PR support for Azure DevOps repositories with feature parity to GitHub implementation.

**Business Value:** Enterprise users with Azure DevOps can use all PR features; unified experience regardless of hosting provider.
## Critical Files

**Modify:**
- src/Leaf/Services/PullRequestService.cs - Add AzureDevOps provider routing
- src/Leaf/App.xaml.cs - Register AzureDevOpsPullRequestService with DI

**Create:**
- src/Leaf/Services/AzureDevOpsPullRequestService.cs - Full Azure DevOps REST API implementation

## Features

| Feature | Description | Story Points | Status |
|:--------|:------------|:-------------|:-------|
| [F1.1.6.1](F1.1.6.1-azure-dev-ops-pr-service.md) | Azure DevOps PR Service | 8 |  | Draft |
| [F1.1.6.2](F1.1.6.2-azure-specific-features.md) | Azure-specific Features | 5 |  | Draft |

## Implementation Order

1. **F1.1.6.1 AzureDevOpsPullRequestService** - Core service implementing IPullRequestService
2. **F1.1.6.2 Azure-specific Features** - Vote mapping, threads, iterations API

## Acceptance Criteria

### Functional
- [ ] AzureDevOpsPullRequestService implements all IPullRequestService methods
- [ ] URL parsing handles dev.azure.com, visualstudio.com, and SSH formats
- [ ] Vote mapping: 10=Approved, 5=ApprovedWithSuggestions, 0=Pending, -5=WaitingForAuthor, -10=ChangesRequested
- [ ] Thread comments with resolution status
- [ ] Iterations API for accurate file diffs
- [ ] Merge uses PATCH with status:completed, Close uses status:abandoned

### Quality
- [ ] api-version=7.0 included in all requests
- [ ] Basic auth with PAT works correctly
- [ ] All tests passing

## Dependencies

**Depends on:** None
**Blocks:** None

## Proposed Improvements

<!-- Document opportunities for refactoring, scope adjustments, or better engineering practices here. Do not implement yet; just log them. When a proposed improvement affects work above this item's level, document it in the appropriate ancestor. -->

| ID | Description | Resolution |
|:---|:------------|:-----------|
